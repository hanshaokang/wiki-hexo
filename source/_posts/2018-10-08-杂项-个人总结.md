在公司的三个月时间里，我从一名大学毕业生，成长为了深信服的员工。

在公司里的这段时间是我成长最快的时候。

7月十号参加培训，7月17号正式到长沙报道，7月19号接到第一个任务，自此便开始了我在深信服工作的时光。

7月23日开始，我便转岗到iOS研发，导师也从豪哥换成婷姐。那时候我还是第一次使用Mac电脑，没有了熟悉的编程环境，没有了熟悉的快捷键和键位，没有了常用的开发语言，一切都得从头开始适应。
从7月23日开始，我简单学了一下oc的语法，了解了代码大致的运行流程，便开始了免责声明的设计和编码。期间遇到了非常多的困难，比如xlb文件约束不正确导致屏幕适配有问题，界面跳转问题，界面设计的技巧问题等等，可能这些问题比较原始，比较初级，但是这些问题对于一个新手来说就非常头疼了。在经历了痛苦的摸索和实践后，渐渐摸到了oc开发的技巧，开发的阻碍越来越小，最后在师傅和徐鳌飞的帮助下，顺利完成了免责声明的编码以及代码review等缺陷预防工作。

开发免责声明还出现了一个大障碍。安全浏览器没在库上，接近30GB的代码，配置环境配了好久，完整编译一次要花费5个小时。这还不是最大的障碍，最大的障碍出在翻译上。由于766这边的iOS大牛没有接触过chrome的国际化，我只能去一点点百度，最后在CSDN上综合了三篇文章才摸着头脑，完成了编译任务。

到了八月10号，我接手了异常日志自动上传的任务，这个任务更加的艰难，涉及到了更多更多的知识点，比如时钟，多线程，插件，文件操作，网络操作，mdm策略下发等等，还得考虑文件缓冲区大小，考虑合并日志包减小服务器压力，考虑异常日志收集模式，考虑网络异常上传失败等等许许多多的细节和要点。而且我接手任务的时候，需求和方案都不明确，导致我走了许多弯路。在不断地改进和优化下，最终形成了一个非常复杂的工具包。为了便于理解，我尝试着画了一下代码的逻辑结构图，画完拿给婷姐和钦哥看，结果把他们下了一跳，叫来水哥帮着评审，水哥都有把这个功能砍掉的冲动。钱哥见我们在哪里争论，就说他来看看，经过钱哥的梳理，最终将流程图简化了一下，说“还可以嘛”，再加上水哥得知我已经基本完成编码，就说"这个东西可以做，但你一定要保证质量”，就这样异常日志上传模块保留了下来。

在完成异常日志上报的编码后，我认真做了代码覆盖和代码扫描，代码覆盖率达到了90%。代码扫描发现两个问题也全部解决。在这个过程中学到了很多很多的新知识，也接触到了在大学里不会教的内容，比如代码扫描，代码覆盖，缺陷预防等等。通过这个项目我收获了不少的新知识，也获得了与代码和逻辑斗智斗勇的乐趣。

后来，后来，后来我就开发android了。

在做完异常日志上传后，我兴奋地找到水哥说我做完了，请指示，大概就这个意思，然后水哥听说cyod风险很高，就把我领到简大爷那里，让我搞device_admin的接口，简大爷沉思良久，答应了下来。自此一发不可收拾。

最开始，简大爷给我的印象是不太好交往，感觉很高冷，让人抓不住思维。可是那天中午，见到他一点一点把做了一半的华为admin给我讲解的时候，我发现，我想多了。有时候看到简大爷的面孔，粗壮的眉毛，感觉还挺萌的，也不知道简大爷看到会不会打我。

在接手device_owner后也遇到了不小的困难，aidl原理不太懂，devicepolicymanager的接口不熟悉，接口数据类型对不上，各种小困难不间断，还好有一个小兵哥写的demo，接口不知道怎么写了就查一下小兵哥的demo，找不到就去问广哥，有时候把广哥烦的不行，就让我回去瞅瞅aWork原来是怎么实现的。一天往广哥那里跑好几趟，微信步数都增加不少。

做管控组件遇到的最大的障碍是异常返回值的问题。在awork接入管控组件后发现调用接口抛出的remote异常捕获不到，导致根本不知道接口有没有调用成功。这个问题已经发现就立刻得到重视，钱哥让广哥调研一下别的厂商是怎么做的。快中午的时候广哥说可以自己定义数据结构来传值，于是就匆匆写了个aidl接口，用来传递异常类型和异常信息。还记得那天中午，我抱着键盘改呀改，几千行代码，加起来两百个接口，五六种情况，改的手指头疼的厉害。尤其是我用的macmini，键盘Windows键是凸起来的圆的，专门磨手指。那天中午和下午，我脑子里除了复制粘贴，就剩下一个念头，，我要换把机械键盘！！后来真的买了个青轴的pocker2。

这还不是坑，更大的坑在后边。

在编码完成后，让简大爷审查代码，简大爷一看代码就说“我去这都是什么鬼啊”，我就把代码里加参数来返回异常的原因给说了一遍。简大爷在我这里看了一下代码，默默回到座位上，过了一会儿就找到我，”跟我说你这什么鬼啊，人家明明可以返回异常啊“，打开对应的代码给我一点点捋，确实可以返回几种异常啊，仔细一看，他们都属于runtime异常，根本不是默认抛出的remote异常。。。简大爷给我看源码的时候，我感觉到一阵阵手疼。。最终还是把抛异常的方式改了回去。这样不仅让入参更加清爽了，还省去了大量的try catch语句，借口代码行数少了1/3！！

预研很重要啊。

在开发管控组件的时候，还遇到了各种各样的坑，比如打包要去Windows环境签名，比如加不完的接口，比如加借口要在最后加，不然会导致接口错乱啊等等，不胜枚举。

好容易看到管控组件收尾的曙光，结果钱哥和水哥说兼容性测试很重要，于是乎就开始测试兼容性的历程了。测试兼容性没有啥技术含量，但是过程很痛苦，很烦。不过到最后总共测试了十五种各式各样的机型，看着满满的一大张表，贼有成就感。

聊完了工作学习和踩的坑，再来聊一下在深信服的感受与体会。

作为一个在象牙塔里生活了十几年的傻小子来说，是惧怕工作的，因为上班意味着走进职场，走进了一个不仅仅比拼劲头比拼头脑比拼勤奋的地方。可是到了深信服之后打消了我的顾虑。我觉得深信服这样的公司与其他那种勾心斗角攀权附势公司不一样，在公司里每个人都平易近人，不会说因为你是新员工就打压你或者看不起你，大家一起工作，一起去爱上时光吃饭，一起去团建，





